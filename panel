#! /bin/sh
# panel panel-id position info sleep
while getopts f:i:s: opt; do
  case ${opt} in
    f)
      FLAVOR=${OPTARG}
      ;;
    a)
      PANEL_ID=${OPTARG}
      ;;
  esac
done

ROOT=$(dirname $(readlink -f $0))
if [ $(pgrep -cx "$PANEL_ID") -gt 1 ] ; then
    printf "%s\n" "The panel is already running." >&2
    exit 1
fi
trap 'trap - TERM; kill 0' INT TERM QUIT EXIT
case $FLAVOR in
    topbar)
        nohup $ROOT/panels/topbar &>/dev/null
        ;;
    status)
        nohup $ROOT/panels/status &>/dev/null
esac

wait
